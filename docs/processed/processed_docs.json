[
  {
    "file_path": "docs/workflow_diagram.md",
    "file_type": "markdown",
    "filename": "workflow_diagram.md",
    "processed_time": 1752459094.862686,
    "metadata": {
      "title": "HVLC_DB System Workflow Diagram",
      "headers": [
        {
          "level": 1,
          "text": "HVLC_DB System Workflow Diagram"
        },
        {
          "level": 2,
          "text": "Data Flow Sequence"
        },
        {
          "level": 2,
          "text": "System Components"
        },
        {
          "level": 2,
          "text": "Query Types"
        }
      ]
    },
    "full_text": "# HVLC_DB System Workflow Diagram\n\nThis document provides a visual representation of how data flows through the HVLC_DB system.\n\n```\n                                 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                                 \u2502                       \u2502\n                                 \u2502   CSV Files           \u2502\n                                 \u2502  (csv_folder/)        \u2502\n                                 \u2502                       \u2502\n                                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                             \u2502\n                                             \u2502 Import\n                                             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                       \u2502         \u2502                       \u2502         \u2502                       \u2502\n\u2502  Document Storage     \u2502         \u2502      SQLite DB        \u2502         \u2502  Knowledge Base       \u2502\n\u2502  (Vector Index)       \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  (medical_billing.db) \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba  (Billing Terms)      \u2502\n\u2502                       \u2502   Build \u2502                       \u2502  Load   \u2502                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  Index  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502                                 \u2502\n            \u2502                                 \u2502 Query\n            \u2502                                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                       \u2502         \u2502                       \u2502         \u2502                       \u2502\n\u2502  Document Query       \u2502         \u2502   Query Router        \u2502         \u2502   SQL Agent           \u2502\n\u2502  Engine               \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba   (LangChain)         \u2502\n\u2502                       \u2502Document \u2502                       \u2502Complex  \u2502                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518Queries  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518Queries  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                             \u2502\n                                             \u2502 Standard\n                                             \u2502 Queries\n                                             \u25bc\n                           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                           \u2502                                   \u2502\n                           \u2502     Query Type Classification     \u2502\n                           \u2502                                   \u2502\n                           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                           \u2502\n                                           \u2502\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502            \u2502             \u2502           \u2502            \u2502            \u2502\n          \u25bc            \u25bc             \u25bc           \u25bc            \u25bc            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502               \u2502 \u2502         \u2502 \u2502            \u2502 \u2502        \u2502 \u2502            \u2502 \u2502           \u2502\n\u2502 Performance   \u2502 \u2502 Revenue \u2502 \u2502  Provider  \u2502 \u2502  Time  \u2502 \u2502  Payer     \u2502 \u2502  Data     \u2502\n\u2502 Review        \u2502 \u2502 Analysis\u2502 \u2502  Analysis  \u2502 \u2502Analysis\u2502 \u2502  Analysis  \u2502 \u2502  Quality  \u2502\n\u2502               \u2502 \u2502         \u2502 \u2502            \u2502 \u2502        \u2502 \u2502            \u2502 \u2502           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502              \u2502            \u2502            \u2502             \u2502             \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502\n                             \u2502\n                             \u25bc\n                   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                   \u2502                       \u2502\n                   \u2502     LLM Processor     \u2502\u2500\u2500\u2510\n                   \u2502     (Ollama)          \u2502  \u2502\n                   \u2502                       \u2502  \u2502\n                   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 Timeout?\n                               \u2502              \u2502 Retry with\n                               \u2502 Response     \u2502 simpler prompt\n                               \u2502              \u2502\n                               \u25bc              \u2502\n                   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n                   \u2502                       \u2502  \u2502\n                   \u2502     User Interface    \u2502\u25c4\u2500\u2518\n                   \u2502                       \u2502\n                   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n## Data Flow Sequence\n\n1. **Data Ingestion**\n   - CSV files are loaded into the SQLite database\n   - Document content is indexed in the vector store\n   - Knowledge base terms are loaded\n\n2. **Query Processing**\n   - User submits a query through the interface\n   - Query router determines the appropriate processing path:\n     - Document queries \u2192 Vector search\n     - Complex analytical queries \u2192 SQL Agent\n     - Standard queries \u2192 Query type classification\n\n3. **Specialized Processing**\n   - Each query type has a specialized handler\n   - Database queries are executed\n   - Results are formatted for LLM processing\n\n4. **LLM Processing**\n   - Results are sent to the Ollama LLM\n   - LLM generates natural language response\n   - If timeout occurs, retry with simplified prompt\n\n5. **Response Delivery**\n   - Formatted response is presented to user\n   - Results are cached for similar future queries\n\n## System Components\n\n- **SQLite Database**: Core storage for all structured data\n- **Vector Index**: Document storage for unstructured content\n- **Query Router**: Directs queries to appropriate handlers\n- **SQL Agent**: Translates natural language to SQL\n- **LLM Processor**: Generates natural language responses\n- **Document Query Engine**: Searches document content\n- **Specialized Analyzers**: Process specific query types\n\n## Query Types\n\n- **Performance Review**: Provider or company reviews\n- **Revenue Analysis**: Revenue and financial metrics\n- **Provider Analysis**: Provider-specific information\n- **Time Analysis**: Trends over time periods\n- **Payer Analysis**: Insurance payer information\n- **Data Quality**: Data quality assessment"
  },
  {
    "file_path": "docs/menu_flow.md",
    "file_type": "markdown",
    "filename": "menu_flow.md",
    "processed_time": 1752459094.863722,
    "metadata": {
      "title": "HVLC_DB Menu Flow and Query Routing",
      "headers": [
        {
          "level": 1,
          "text": "HVLC_DB Menu Flow and Query Routing"
        },
        {
          "level": 2,
          "text": "Main Menu Structure"
        },
        {
          "level": 2,
          "text": "Query Routing Logic"
        },
        {
          "level": 2,
          "text": "Medical Billing AI Query Classification"
        },
        {
          "level": 2,
          "text": "Improved AI Timeout Handling"
        },
        {
          "level": 2,
          "text": "Using the SQL Agent"
        }
      ]
    },
    "full_text": "# HVLC_DB Menu Flow and Query Routing\n\nThis document outlines the menu structure and query routing logic of the HVLC_DB application.\n\n## Main Menu Structure\n\n```\nHVLC_DB Main Menu\n\u2502\n\u251c\u2500\u2500 1. Ask a question\n\u2502   \u2514\u2500\u2500 Routes query based on content:\n\u2502       \u251c\u2500\u2500 SQL Agent (if available and query is complex)\n\u2502       \u251c\u2500\u2500 Direct Database Query (for revenue, provider analysis, etc.)\n\u2502       \u251c\u2500\u2500 Vector Search (for document-related queries)\n\u2502       \u2514\u2500\u2500 General Analysis (for other types of queries)\n\u2502\n\u251c\u2500\u2500 2. Show data overview\n\u2502   \u2514\u2500\u2500 Displays summary statistics about the database\n\u2502\n\u251c\u2500\u2500 3. Show suggested questions\n\u2502   \u2514\u2500\u2500 Lists example queries and allows selection\n\u2502\n\u251c\u2500\u2500 4. Show available columns\n\u2502   \u2514\u2500\u2500 Lists all columns in the dataset\n\u2502\n\u251c\u2500\u2500 5. Show session clarifications\n\u2502   \u2514\u2500\u2500 Shows how ambiguous terms are mapped to database columns\n\u2502\n\u251c\u2500\u2500 6. Upload CSV file\n\u2502   \u2514\u2500\u2500 Processes and imports CSV data into the database\n\u2502\n\u251c\u2500\u2500 7. Help\n\u2502   \u2514\u2500\u2500 Displays detailed help information\n\u2502\n\u251c\u2500\u2500 8. Ask advanced SQL question (if SQL Agent available)\n\u2502   \u2514\u2500\u2500 Direct access to the SQL Agent for complex queries\n\u2502\n\u251c\u2500\u2500 9/10. Launch Medical Billing AI Assistant\n\u2502   \u2514\u2500\u2500 Interactive chat with the standard AI assistant\n\u2502\n\u251c\u2500\u2500 10/11. Launch Improved Medical Billing AI (if available)\n\u2502   \u2514\u2500\u2500 Interactive chat with enhanced AI with better timeout handling\n\u2502\n\u2514\u2500\u2500 Exit\n```\n\n## Query Routing Logic\n\nWhen you ask a question, the system determines the best way to handle it:\n\n```\nUser Query\n\u2502\n\u251c\u2500\u2500 Starts with \"sql:\" and SQL Agent available?\n\u2502   \u2514\u2500\u2500 YES \u2192 Process with SQL Agent\n\u2502\n\u251c\u2500\u2500 Contains complex analytical keywords and SQL Agent available?\n\u2502   \u2514\u2500\u2500 YES \u2192 Process with SQL Agent (with timeout protection)\n\u2502\n\u251c\u2500\u2500 Contains database query indicators (revenue, providers, etc.)?\n\u2502   \u2514\u2500\u2500 YES \u2192 Use direct database query for efficiency\n\u2502\n\u251c\u2500\u2500 Contains document query indicators (find file, where is, etc.)?\n\u2502   \u2514\u2500\u2500 YES \u2192 Use vector search for document retrieval\n\u2502\n\u251c\u2500\u2500 Clarification needed for ambiguous terms?\n\u2502   \u2514\u2500\u2500 YES \u2192 Ask user to clarify terms like \"revenue\", \"date\", etc.\n\u2502\n\u2514\u2500\u2500 Process with general query engine\n```\n\n## Medical Billing AI Query Classification\n\nThe Medical Billing AI classifies queries into the following types:\n\n1. **Performance Review**: Reviews for providers or company-wide performance\n2. **Revenue Analysis**: Questions about revenue, totals, and earnings\n3. **Provider Analysis**: Information about specific providers\n4. **Time Analysis**: Trends over time (monthly, yearly, etc.)\n5. **Payer Analysis**: Information about insurance payers\n6. **Executive Summary**: High-level overviews and reports\n7. **Data Quality**: Analysis of data quality issues\n8. **General Analysis**: Any other type of question\n\n## Improved AI Timeout Handling\n\nThe Improved Medical Billing AI handles timeouts with these steps:\n\n1. First attempt: Use full prompt\n2. If timeout occurs:\n   - First retry: Truncate prompt to half size\n   - Second retry: Extract just the question and key data points\n   - Final retry: Ultra-simplified prompt with just the question\n3. If all retries fail, fallback to simpler processing\n\n## Using the SQL Agent\n\nFor complex analytical queries, prefix with \"sql:\" to ensure the SQL agent processes your query. Example:\n\n```\nsql: What is the correlation between provider specialty and average payment amount?\n```\n\nThe SQL agent provides these advantages:\n- Handles complex queries without predefined patterns\n- Translates natural language to SQL automatically\n- Provides schema-aware responses\n- Supports relational queries across tables"
  },
  {
    "file_path": "docs/DATA_PRIVACY.md",
    "file_type": "markdown",
    "filename": "DATA_PRIVACY.md",
    "processed_time": 1752459094.864767,
    "metadata": {
      "title": "Data Privacy and Security Practices",
      "headers": [
        {
          "level": 1,
          "text": "Data Privacy and Security Practices"
        },
        {
          "level": 2,
          "text": "Data Types and Sensitivity"
        },
        {
          "level": 3,
          "text": "High Sensitivity"
        },
        {
          "level": 3,
          "text": "Medium Sensitivity"
        },
        {
          "level": 3,
          "text": "Low Sensitivity"
        },
        {
          "level": 2,
          "text": "Data Protection Measures"
        },
        {
          "level": 3,
          "text": "1. Data Storage"
        },
        {
          "level": 3,
          "text": "2. Data Access"
        },
        {
          "level": 3,
          "text": "3. Data Minimization"
        },
        {
          "level": 3,
          "text": "4. Data Quality Monitoring"
        },
        {
          "level": 2,
          "text": "Handling of Sensitive Information"
        },
        {
          "level": 3,
          "text": "Patient Data"
        },
        {
          "level": 3,
          "text": "Financial Data"
        },
        {
          "level": 3,
          "text": "Medical Information"
        },
        {
          "level": 2,
          "text": "Compliance Considerations"
        },
        {
          "level": 3,
          "text": "HIPAA Considerations"
        },
        {
          "level": 3,
          "text": "Data Retention"
        },
        {
          "level": 2,
          "text": "Security Practices"
        },
        {
          "level": 3,
          "text": "Database Security"
        },
        {
          "level": 3,
          "text": "Application Security"
        },
        {
          "level": 3,
          "text": "Operational Security"
        },
        {
          "level": 2,
          "text": "AI Model Considerations"
        },
        {
          "level": 3,
          "text": "Data Sent to AI Models"
        },
        {
          "level": 3,
          "text": "Model Outputs"
        },
        {
          "level": 2,
          "text": "Recommendations for Deployment"
        },
        {
          "level": 2,
          "text": "Future Enhancements"
        }
      ]
    },
    "full_text": "# Data Privacy and Security Practices\n\nThis document outlines the data privacy and security practices for the Medical Billing AI system. It covers how sensitive data is handled, protected, and the measures in place to ensure compliance with privacy regulations.\n\n## Data Types and Sensitivity\n\nThe Medical Billing AI system handles the following types of data with varying levels of sensitivity:\n\n### High Sensitivity\n- **Patient identifiers**: IDs, names (when present)\n- **Diagnosis codes**: Can reveal medical conditions\n- **Claim numbers**: Unique identifiers for insurance claims\n\n### Medium Sensitivity\n- **Provider information**: Names, specialties, NPI numbers\n- **Financial data**: Payment amounts, adjustments\n- **Service dates**: Dates when medical services were provided\n\n### Low Sensitivity\n- **Aggregated statistics**: Monthly summaries, revenue totals\n- **Performance metrics**: Provider rankings, averages\n\n## Data Protection Measures\n\n### 1. Data Storage\n- **Local database**: All data is stored in a local SQLite database file\n- **No cloud storage**: Data remains on local systems only\n- **Encrypted storage**: Database file should be stored on encrypted file systems when possible\n\n### 2. Data Access\n- **Limited access**: Only authorized users should have access to the application\n- **No external API**: The application does not expose data via external APIs\n- **Authentication**: System relies on operating system authentication\n\n### 3. Data Minimization\n- **Sampling**: Large datasets are sampled when sending to AI models\n- **Aggregation**: Where possible, aggregated data is used instead of individual records\n- **Filtering**: Only necessary fields are included in queries and reports\n\n### 4. Data Quality Monitoring\n- **Issue tracking**: Data quality issues are logged to `data_quality_issues.log`\n- **Validation**: Data validation occurs during import to identify potential issues\n- **Auditing**: All data imports are tracked in the `data_uploads` table\n\n## Handling of Sensitive Information\n\n### Patient Data\n- **Deidentification**: When possible, patient data should be de-identified before analysis\n- **No unnecessary display**: Patient IDs are only displayed when explicitly needed\n- **Masking**: For display purposes, consider masking portions of identifiers\n\n### Financial Data\n- **Aggregation**: Financial data is typically aggregated by provider, month, or service\n- **Limited precision**: Dollar amounts don't need more than 2 decimal places of precision\n- **Relative values**: Where possible, use percentages and relative comparisons\n\n### Medical Information\n- **Code translation**: Consider translating diagnosis codes to general categories\n- **Grouping**: Group similar medical services together for reporting\n- **Minimal exposure**: Only expose diagnosis codes when specifically required\n\n## Compliance Considerations\n\n### HIPAA Considerations\n- The system is designed with HIPAA compliance in mind, but full compliance requires proper operational procedures\n- Any deployment should ensure:\n  - Proper access controls are in place\n  - Data transmission is encrypted\n  - Audit logging is enabled\n  - Backup procedures maintain security\n\n### Data Retention\n- **Data aging**: Consider implementing a data retention policy\n- **Historical data**: Older data can be archived or aggregated further\n- **Deletion capabilities**: The system should support deletion of outdated records\n\n## Security Practices\n\n### Database Security\n- **Parameterized queries**: All database queries use parameterized statements to prevent SQL injection\n- **Validation**: Input validation occurs before database operations\n- **Error handling**: Errors are logged but details are not exposed to users\n\n### Application Security\n- **Dependency management**: Keep all dependencies updated\n- **Logging**: Security-relevant events are logged\n- **Configuration**: Sensitive configuration is stored in a separate file\n\n### Operational Security\n- **Backups**: Regular backups should be encrypted\n- **Updates**: Keep the application and its environment updated\n- **Access review**: Regularly review who has access to the system\n\n## AI Model Considerations\n\n### Data Sent to AI Models\n- **No PHI**: Personally Identifiable Health Information should not be sent to external AI models\n- **Aggregated data**: Use aggregated or sample data when possible\n- **Context awareness**: Be mindful of context that might reveal sensitive information\n\n### Model Outputs\n- **Content review**: AI responses should be reviewed for inadvertent exposure of sensitive data\n- **Caching**: AI responses are cached but should not contain sensitive patient details\n- **Usage logging**: All AI queries are logged in the query log\n\n## Recommendations for Deployment\n\n1. **Regular audits**: Conduct regular privacy audits\n2. **User training**: Train all users on proper data handling\n3. **Access controls**: Implement proper file system access controls\n4. **Encryption**: Enable disk encryption on all systems running the application\n5. **Policy documentation**: Create specific policies for your organization\n6. **Incident response**: Have a plan for potential data breaches\n\n## Future Enhancements\n\nThe following privacy enhancements are planned for future versions:\n\n1. **Role-based access**: Implement user roles with different access levels\n2. **Field-level encryption**: Encrypt sensitive fields in the database\n3. **Audit logging**: Enhanced audit logging for all data access\n4. **Anonymization tools**: Built-in tools to anonymize datasets\n5. **Data retention policies**: Automated enforcement of retention policies"
  },
  {
    "file_path": "docs/workflow_guide.md",
    "file_type": "markdown",
    "filename": "workflow_guide.md",
    "processed_time": 1752459094.866297,
    "metadata": {
      "title": "HVLC_DB Workflow Guide",
      "headers": [
        {
          "level": 1,
          "text": "HVLC_DB Workflow Guide"
        },
        {
          "level": 2,
          "text": "Menu Options Explained"
        },
        {
          "level": 3,
          "text": "1. Ask a question"
        },
        {
          "level": 3,
          "text": "2. Show data overview"
        },
        {
          "level": 3,
          "text": "3. Show suggested questions"
        },
        {
          "level": 3,
          "text": "4. Show available columns"
        },
        {
          "level": 3,
          "text": "5. Show session clarifications"
        },
        {
          "level": 3,
          "text": "6. Upload CSV file"
        },
        {
          "level": 3,
          "text": "7. Help"
        },
        {
          "level": 3,
          "text": "8. Ask advanced SQL question (if SQL Agent available)"
        },
        {
          "level": 3,
          "text": "9/10. Launch Medical Billing AI Assistant"
        },
        {
          "level": 3,
          "text": "10/11. Launch Improved Medical Billing AI"
        },
        {
          "level": 2,
          "text": "Query Processing Workflow"
        },
        {
          "level": 2,
          "text": "Improved AI Processing Workflow"
        },
        {
          "level": 2,
          "text": "SQL Agent Workflow"
        },
        {
          "level": 2,
          "text": "Tips for Effective Use"
        }
      ]
    },
    "full_text": "# HVLC_DB Workflow Guide\n\nThis guide explains each menu option in detail, including what it does and how to use it effectively.\n\n## Menu Options Explained\n\n### 1. Ask a question\n\n**What it does**: Allows you to ask any question about your medical billing data.\n\n**Behind the scenes**:\n1. Your question is analyzed to determine the best processing method\n2. Depending on the content, it might use:\n   - SQL Agent for complex analytical questions\n   - Direct database queries for revenue/provider questions\n   - Vector search for document-related questions\n   - General AI for other questions\n\n**Examples**:\n- \"What was the total revenue last month?\"\n- \"Which provider has the highest earnings?\"\n- \"Show me trends in cash applied over time\"\n\n**Best for**: Quick questions about your data that need a single answer.\n\n---\n\n### 2. Show data overview\n\n**What it does**: Provides a summary of all data in your system.\n\n**Behind the scenes**:\n1. Counts all CSV files by category\n2. Calculates total rows across all files\n3. Retrieves date range from database\n4. Counts unique providers, payers, and patients\n5. Checks data quality (missing values, etc.)\n\n**Best for**: Getting a quick snapshot of your data before diving into analysis.\n\n---\n\n### 3. Show suggested questions\n\n**What it does**: Displays a list of example questions you can ask the system.\n\n**Behind the scenes**:\n1. Analyzes your database to find real provider names\n2. Generates relevant questions using those names\n3. Adds general analytical questions\n4. Allows you to select a question to execute\n\n**Best for**: Learning what kinds of questions the system can answer or getting started quickly.\n\n---\n\n### 4. Show available columns\n\n**What it does**: Lists all columns available in your dataset.\n\n**Behind the scenes**:\n1. Scans all CSV files for column names\n2. Normalizes and deduplicates them\n3. Displays the complete list\n\n**Best for**: Understanding what data fields are available for querying.\n\n---\n\n### 5. Show session clarifications\n\n**What it does**: Shows how ambiguous terms in your questions are mapped to specific database columns.\n\n**Behind the scenes**:\n1. During queries, the system tracks ambiguous terms (e.g., \"revenue\" could map to multiple columns)\n2. When you select this option, it shows which specific columns these terms refer to\n3. These mappings persist throughout your session\n\n**Best for**: Understanding how the system interprets your questions when terms could have multiple meanings.\n\n---\n\n### 6. Upload CSV file\n\n**What it does**: Processes and imports a CSV file into the database.\n\n**Behind the scenes**:\n1. Reads the CSV file in memory-efficient chunks\n2. Maps columns to database fields\n3. Performs data validation and quality checks\n4. Inserts data into the database\n5. Updates aggregated statistics\n\n**Best for**: Adding new data to your system.\n\n---\n\n### 7. Help\n\n**What it does**: Displays detailed help information about all features.\n\n**Behind the scenes**:\n1. Shows descriptions of all menu options\n2. Explains special features like SQL Agent (if available)\n3. Provides tips for effective use\n\n**Best for**: Learning about all available features.\n\n---\n\n### 8. Ask advanced SQL question (if SQL Agent available)\n\n**What it does**: Provides direct access to the SQL Agent for complex queries.\n\n**Behind the scenes**:\n1. Passes your question directly to the SQL Agent\n2. The agent translates your natural language to SQL\n3. Executes the SQL against your database\n4. Formats and returns the results\n\n**Best for**: Complex analytical questions that involve relationships between data.\n\n**Examples**:\n- \"sql: Find the correlation between provider specialty and average payment amount\"\n- \"sql: Which providers have shown declining revenue over the past three months?\"\n\n---\n\n### 9/10. Launch Medical Billing AI Assistant\n\n**What it does**: Opens an interactive chat with the standard AI assistant.\n\n**Behind the scenes**:\n1. Initializes the Medical Billing AI with your database\n2. Provides a chat interface for asking multiple questions\n3. Maintains context between questions\n\n**Best for**: Extended conversations about your medical billing data.\n\n---\n\n### 10/11. Launch Improved Medical Billing AI\n\n**What it does**: Opens an interactive chat with the enhanced AI that has better timeout handling.\n\n**Behind the scenes**:\n1. Initializes the Improved Medical Billing AI with your database\n2. Uses enhanced timeout handling with retries and prompt simplification\n3. Provides more robust error recovery\n\n**Best for**: Complex analyses that might require longer processing time.\n\n## Query Processing Workflow\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User Query   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SQL Prefixed? \u2502\u2500Yes\u2500\u25ba  SQL Agent    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502 No\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Complex     \u2502\u2500Yes\u2500\u25ba  SQL Agent    \u2502\n\u2502  Analytical?  \u2502     \u2502 (with timeout)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502 No\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Database    \u2502\u2500Yes\u2500\u25baDirect Database\u2502\n\u2502Query Indicator\u2502     \u2502     Query     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502 No\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Document    \u2502\u2500Yes\u2500\u25baVector Search  \u2502\n\u2502    Query?     \u2502     \u2502               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502 No\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502General Analysis\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n## Improved AI Processing Workflow\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 User Question \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Classify Query\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Route to Specialist \u2502\n\u2502    Query Handler    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u25bc         \u25bc           \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Revenue \u2502 \u2502Provider\u2502 \u2502  Time  \u2502 ... etc\n\u2502Analysis\u2502 \u2502Analysis\u2502 \u2502Analysis\u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2518\n     \u2502          \u2502          \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u25bc\n       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n       \u2502 Database Query  \u2502\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502\n                \u25bc\n       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n       \u2502  LLM Processing \u2502\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u25bc             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Success   \u2502 \u2502   Timeout   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502               \u2502\n       \u2502        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n       \u2502        \u2502 Retry with  \u2502\n       \u2502        \u2502 Simplified  \u2502\n       \u2502        \u2502   Prompt    \u2502\n       \u2502        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502               \u2502\n       \u25bc               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Return AI   \u2502 \u2502Return Simple\u2502\n\u2502  Response   \u2502 \u2502  Fallback   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n## SQL Agent Workflow\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 User Question \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Enhance    \u2502\n\u2502 with Medical  \u2502\n\u2502Billing Context\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 LangChain Converts\u2502\n\u2502Natural Language to\u2502\n\u2502       SQL         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Execute SQL   \u2502\n\u2502  Against DB   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Format Results \u2502\n\u2502  as Natural   \u2502\n\u2502   Language    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n## Tips for Effective Use\n\n1. **For direct SQL Agent access**: Prefix your question with \"sql:\" (e.g., \"sql: what is the average cash applied per provider?\")\n\n2. **For complex analytical questions**: Use the SQL Agent (menu option 8) for questions about relationships between different data points.\n\n3. **For simple factual questions**: Use option 1 (Ask a question) for straightforward queries about revenue, providers, etc.\n\n4. **For interactive analysis**: Use the Improved Medical Billing AI (option 10/11) for in-depth analysis with follow-up questions.\n\n5. **If you get timeouts**: Try simplifying your question or using the Improved Medical Billing AI which has better timeout handling.\n\n6. **To add new data**: Use option 6 (Upload CSV file) to import new data files.\n\n7. **If unsure what to ask**: Use option 3 (Show suggested questions) to see examples based on your actual data."
  }
]